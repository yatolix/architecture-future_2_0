# Проблемные места текущей архитектуры

Ниже перечислены основные "больные места" текущей архитектуры. В конце описания каждого "места" дана приоритизация по методу `MoSCoW` с обоснованием.

Приоритеты определены исходя из влияния на ключевые бизнес-цели: Выручка, Time-to-Market, Качество сервисов компании, Соответствие регуляторным требованиям.

## 1. Монолитный DWH и отсутствие раздедения на домены

#### Суть проблемы

Все данные (клиенты, медицина, финансы, инвентаризация и т.д.) хранятся в одном DWH на SQL Server 2008. Значительная часть бизнес-логики реализована внутри хранилища (хранимые процедуры, триггеры). В текущей архитектуре нет чёткого разделения на домены (медицина, финтех, ИИ и т.д.).

#### Страдающие сценарии

* **Подготовка отчётности**: любое изменение отчёта требует изменений в DWH, что замедляет time-to-market (отчёты строятся часами).
* **Независимое развитие доменов**: финтех и ИИ-сервисы вынуждены использовать общий DWH, что создаёт зависимости и замедляет внедрение новых функций.
* **Интеграция новых направлений**: при покупке фармацевтической компании или производителя оборудования потребуется сложная доработка монолита, что увеличит сроки интеграции и риски ошибок.
* **Независимость команд**: разработка в каждом направлении тормозится из-за необходимости согласования изменений с владельцами DWH.
* **Качество данных**: единая модель данных неоптимальна для всех доменов, что ведёт к ошибкам и дублированию.

#### Приоритет: MUST HAVE

Только разделив систему на домены получится независимо развивать сервисы компании - например финтех и ИИ.

## 2. Низкая производительность аналитических запросов

#### Суть проблемы

Огромные объёмы данных, большое количество трансформация, из-за чего формирование сложных отчётов занимает часы.

#### Страдающие сценарии

* **Управленческие решения**: руководство не может оперативно получать ключевые показатели. Это приводит к задержкам в принятии решений и потере выручки.
* **Бизнес-пользователи**: аналитики и менеджеры тратят время в ожидании отчётов, снижается их продуктивность.

#### Приоритет: MUST HAVE

Компания неспособна принимать быстрые решения из-за долгих отчётов. Как следствие - потеря выручки и эффективности.

## 3. Устаревшие технологии (Apache Camel)

#### Суть проблемы

Шина данных не справляется с растущими объёмами и требованиями к надёжности. Она не поддерживает современные паттерны событийной архитектуры.

Также используются устаревшие технологии (SQL Server 2008, PowerBuilder), которые больше не поддерживаются производителем или требуют значительных затрат на поддержку.

#### Страдающие сценарии

* **Обмен данными между доменами**: сбои в шине приводят к потере или задержкам синхронизации (например, данные о кредитах не попадают вовремя в медицинские системы для скоринга пациентов).
* **Масштабирование**: при подключении новых сервисов (например, ИИ-анализ снимков) шина становится узким местом, ограничивая пропускную способность.
* **Надёжность**: сбои в легаси-системах могут привести к остановке работы клиник или финансовых операций.
* **Развитие**: сложно найти специалистов для поддержки PowerBuilder, что увеличивает стоимость изменений.

#### Приоритет: SHOULD HAVE

В моменте некритично, но с ростом объёмов данных станет критичным. Миграция в облако может как-то облегчить проблему использования старой БД т.к. новые сервисы можно сразу подключать к новым БД.

## 4. Отсутствие самообслуживания для бизнес-пользователей

#### Суть проблемы

Вся отчётность готовится централизованно через BI-систему (Power BI) с кастомизациями поверх DWH. Пользователи не могут самостоятельно строить отчёты по нужным срезам.

#### Страдающие сценарии

* **Гибкость анализа**: бизнес-подразделения не могут оперативно проверять гипотезы или получать срезы данных, что тормозит процессы.
* **Загрузка ИТ-команды**: разработчики тратят время на создание однотипных отчётов, вместо того чтобы заниматься развитием платформы.

#### Приоритет: SHOULD HAVE

Бизнес не останавливается из-за этой проблемы, но увеличивается нагрузка на ИТ-команду. Постепенно необходимо переносить пользователей в отдельный портал где они смогут заказывать отчёты без участия ИТ.

## 5. Риски информационной безопасности и соответствия регуляторам

#### Суть проблемы

Чувствительные медицинские данные хранятся в общем DWH и могут быть случайно использованы в аналитике, что нарушает требования законодательства.

#### Страдающие сценарии

* **Регуляторные риски**: штрафы и репутационные потери при утечке или неправомерном использовании медицинских данных.
* **Доверие клиентов**: пациенты могут отказаться от услуг, если узнают о недостаточной защите их данных.

#### Приоритет: MUST HAVE

Риски слишком велики. С регуляторами не шутят.

## 6. Отсутствие единой платформы для работы с данными

#### Суть проблемы

Нет современного data lakehouse, нет инструментов для работы с большими данными в реальном времени. Данные копируются между системами, возникают избыточные трансформации.

#### Страдающие сценарии

* **Стоимость хранения и обработки**: из-за дублирования и неэффективных ETL растут затраты на инфраструктуру.
* **Скорость появления новых отчётов**: каждое новое требование требует длительной разработки пайплайнов.

#### Приоритет: COULD HAVE

В течении года бизнес от этого не разрушится, поэтому следует сначала уделить время выстраиванию корректной архитектуры. А единая платформа станет вишенкой на торте.
